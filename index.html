<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>老虎机游戏 - 移动端优化版</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="game-container">
        <div class="top-info">
            <div id="win-loss-table" class="info-box">
                <h3>记录</h3>
                <div class="scrollable-content">
                    <table>
                        <thead>
                            <tr>
                                <th>局</th>
                                <th>结果</th>
                                <th>金额</th>
                            </tr>
                        </thead>
                        <tbody id="win-loss-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="jackpot-display" class="info-box jackpot-box">
                <div class="jackpot-label">JACKPOT</div>
                <div id="jackpot-amount" class="jackpot-amount">5000.00</div>
            </div>

            <div id="announcement-board" class="info-box">
                <h3>公告</h3>
                <div id="announcement-content" class="scrollable-content">
                    <div class="announcement-item">欢迎游戏！</div>
                </div>
            </div>
        </div>

        <div id="reels-section">
            <div id="reels-container">
                <canvas id="win-lines-canvas"></canvas>
                <div class="reel" data-reel="0">
                    <div class="reel-viewport">
                        <div class="reel-strip"></div>
                    </div>
                </div>
                <div class="reel" data-reel="1">
                    <div class="reel-viewport">
                        <div class="reel-strip"></div>
                    </div>
                </div>
                <div class="reel" data-reel="2">
                    <div class="reel-viewport">
                        <div class="reel-strip"></div>
                    </div>
                </div>
                <div class="reel" data-reel="3">
                    <div class="reel-viewport">
                        <div class="reel-strip"></div>
                    </div>
                </div>
                <div class="reel" data-reel="4">
                    <div class="reel-viewport">
                        <div class="reel-strip"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="control-panel">
            <div class="panel-inner">
                <div class="display-section">
                    <div class="display-item">
                        <span class="display-label">已修改</span>
                        <span id="modified-display" class="display-value">0.00</span>
                    </div>
                    <div class="display-item">
                        <span class="display-label">线数</span>
                        <div class="bet-controls">
                            <span id="lines-display" class="display-value lines-value">25</span>
                            <button id="btn-switch-lines" class="bet-btn" style="width: 40px; font-size: 12px; margin-left: 5px;">切换</button>
                        </div>
                    </div>
                    <div class="display-item">
                        <span class="display-label">押注</span>
                        <div class="bet-controls">
                            <button id="btn-bet-down" class="bet-btn">-</button>
                            <span id="bet-display" class="display-value">1.00</span>
                            <button id="btn-bet-up" class="bet-btn">+</button>
                        </div>
                    </div>
                    <div class="display-item">
                        <span class="display-label">总注</span>
                        <span id="total-bet-display" class="display-value total-bet">25.00</span>
                    </div>
                    <div class="display-item">
                        <span class="display-label">中奖</span>
                        <span id="win-display" class="display-value win-amount">0.00</span>
                    </div>
                    <div class="display-item">
                        <span class="display-label">余额</span>
                        <span id="balance-display" class="display-value">1000.00</span>
                    </div>
                    <div id="free-spins-display" class="display-item hidden">
                        <span class="display-label">免费</span>
                        <span id="free-spins-count" class="display-value free-spins">0</span>
                    </div>
                    <div id="autoplay-display" class="display-item hidden">
                        <span class="display-label">自动</span>
                        <span id="autoplay-count" class="display-value autoplay-text">0</span>
                    </div>
                </div>

                <div class="button-section">
                    <button id="btn-max-bet" class="control-btn">最大</button>
                    <button id="btn-aut toplay" class="control-btn">自动</button>
                    <button id="btn-stop-autoplay" class="control-btn hidden">停止</button>
                    <button id="btn-paytable" class="control-btn">赔付</button>
                    <button id="btn-spin" class="spin-btn">旋转</button>
                </div>
            </div>
        </div>

        <div id="free-spins-overlay" class="overlay hidden">
            <div class="modal free-spins-modal">
                <div class="modal-icon">🎁</div>
                <h2>恭喜！</h2>
                <p class="modal-message">获得 <span id="free-spins-awarded">10</span> 次免费旋转！</p>
                <p class="modal-submessage">所有奖金 x3 倍</p>
                <button id="btn-start-free-spins" class="modal-btn">开始</button>
            </div>
        </div>

        <div id="autoplay-overlay" class="overlay hidden">
            <div class="modal autoplay-modal">
                <h2>自动旋转次数</h2>
                <div class="autoplay-options">
                    <button class="autoplay-option-btn" data-count="10">10</button>
                    <button class="autoplay-option-btn" data-count="25">25</button>
                    <button class="autoplay-option-btn" data-count="50">50</button>
                    <button class="autoplay-option-btn" data-count="100">100</button>
                    <button class="autoplay-option-btn" data-count="500">500</button>
                    <button class="autoplay-option-btn" data-count="1000">1000</button>
                </div>
                <button id="btn-cancel-autoplay" class="modal-btn secondary">取消</button>
            </div>
        </div>

        <div id="paytable-overlay" class="overlay hidden">
            <div class="modal paytable-modal">
                <h2>赔付表</h2>
                <div id="paytable-content" class="paytable-content"></div>
                <div class="paytable-info">
                    <h3>规则说明</h3>
                    <ul>
                        <li>固定 25 或 40 条中奖线</li>
                        <li>总注 = 每线押注 × 线数</li>
                        <li>至少3个相同符号连续出现</li>
                        <li>⭐ Wild 替代任何符号</li>
                        <li>🎁 Scatter 3个触发免费旋转</li>
                    </ul>
                    <h3 style="margin-top: 10px;">中奖线</h3>
                    <div style="font-size: 10px; margin-top: 5px;">
                        <div>固定 25/40 条中奖线</div>
                    </div>
                </div>
                <button id="btn-close-paytable" class="modal-btn">关闭</button>
            </div>
        </div>

        <div id="jackpot-overlay" class="overlay hidden">
            <div class="modal jackpot-modal">
                <div class="jackpot-celebration">🎰💰🎉</div>
                <h2 class="jackpot-title">JACKPOT!</h2>
                <p class="jackpot-win-message">恭喜中得: <span id="jackpot-win-amount">0</span></p>
                <button id="btn-close-jackpot" class="modal-btn">继续</button>
            </div>
        </div>

        <div id="big-win-overlay" class="overlay hidden">
            <div class="big-win-animation">
                <div class="big-win-text">BIG WIN!</div>
                <div id="big-win-amount" class="big-win-amount">0</div>
            </div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>